<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Обновить продукт</title>
</head>
<body>
<h1>Обновить продукт</h1>
<form th:action="@{/admin/products/update(id=${product.uuid})}" th:method="post" th:object="${product}" enctype="multipart/form-data">
    <input type="hidden" th:field="${product.uuid}"/>
    <input type="hidden" th:field="${product.image}"/>

    <label for="name">Название:</label>
    <input type="text" id="name" th:field="${product.itemName}" required>
    <br><br>

    <label for="description">Описание:</label>
    <input type="text" id="description" th:field="${product.description}" required>
    <br><br>

    <label for="price">Цена:</label>
    <input type="number" id="price" th:field="${product.price}" required>
    <br><br>

    <label for="category">Категория:</label>
    <select id="category" th:field="${product.category}" required>
        <option th:each="category : ${T(by.ita.chernook.dto.enums.CategoryEnum).values()}"
                th:value="${category}"
                th:text="${category}"></option>
    </select>
    <br><br>

    <label for="discountPercentage">Процент скидки:</label>
    <input type="number" id="discountPercentage" th:field="${product.discountPercentage}" min="0" max="100" required>
    <br><br>

    <label for="image">Изображение:</label>
    <div>
        <img th:src="@{${'/' + product.uuid + '/image'}}" alt="Текущее изображение" style="max-width: 200px; max-height: 200px;"/>
        <br>
        <span>Загрузите новое, если хотите заменить</span>
    </div>
    <input id="image" type="file" name="file"/>
    <br><br>

    <button type="submit">Обновить продукт</button>
</form>
</body>
</html>